{% extends 'base.html' %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_context %}
<div class="row">
    <div class="col-md-12">
        <h1>{{ title }}</h1>

        <!-- Search -->
        <div class="row text center">
            <div class="col-lg-4"></div>
            <div class="col-lg-4">
                <!-- Search form will go here -->
            </div>
            <div class="col-lg-4"></div>
        </div>

        <!-- Post form -->
        <div class="row mb-4">
            <div class="col-lg-6">
                <!-- Post form -->
                <p>{{ wtf.quick_form(form) }}</p>
                <!-- End of post form -->
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <!-- User posts -->
                <table class="table table-hover">
                    {% for post in posts %}
                        <tr>
                            <td width="70px"><img src="{{ post.author.avatar(35) }}" /></td>
                            <td>{{ post.author.username }} said {{ moment(post.timestamp).fromNow() }}: <br> {{ post.body }}</td>
                        </tr>
                    {% endfor %}
                </table>
                <!-- End of listing user posts -->

                <!-- Pagination -->
                <nav aria-label="...">
                    <ul class="pager">
                        <li class="previous{% if not prev_url %} disabled{% endif %}">
                            <a href="{{ prev_url or '#' }}">
                                <span aria-hidden="true">&larr;</span> Newer posts
                            </a>
                        </li>
                        <li class="next{% if not next_url %} disabled{% endif %}">
                            <a href="{{ next_url or '#' }}">
                                Older posts <span aria-hidden="true">&rarr;</span>
                            </a>
                        </li>
                    </ul>
                </nav>
                <!-- End of pagination -->
            </div>
        </div>
    </div>  
</div>
{% endblock %}